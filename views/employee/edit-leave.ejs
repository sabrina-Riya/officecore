<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edit Leave</title>
  <style>
    body { font-family: Arial; padding:20px; background:#f4f6f8; }
    form { max-width:400px; margin-top:20px; }
    input, textarea { width:100%; padding:8px; margin:8px 0; }
    button { padding:10px 15px; }
    .flash { padding:10px; border-radius:5px; margin-bottom:15px; }
    .success { background:#d4edda; color:#155724; }
    .error { background:#f8d7da; color:#721c24; }
  </style>
</head>
<body>
  <h2>Edit Leave - ID: <%= leave.id %></h2>

  <% if (success_msg && success_msg.length) { %>
    <div class="flash success">
      <% success_msg.forEach(msg => { %><p><%= msg %></p><% }) %>
    </div>
  <% } %>
  <% if (err_msg && err_msg.length) { %>
    <div class="flash error">
      <% err_msg.forEach(msg => { %><p><%= msg %></p><% }) %>
    </div>
  <% } %>

  <form method="POST" action="/employee/leave/edit/<%= leave.id %>">
    <label>Start Date:</label>
    <input type="date" name="sdate" value="<%= leave.start_date ? new Date(leave.start_date).toISOString().slice(0,10) : '' %>" required>
    <label>End Date:</label>
    <input type="date" name="edate" value="<%= leave.end_date ? new Date(leave.end_date).toISOString().slice(0,10) : '' %>" required>
    <label>Reason:</label>
    <textarea name="reason" rows="4" required><%= leave.reason %></textarea>
    <button type="submit">Update Leave</button>
  </form>
</body>
</html>
